############################################################
# requirements.txt - Full dependencies for "Bạn Đồng Hành"
# Mục tiêu: Hỗ trợ đầy đủ trang Trò Chuyện nâng cấp (OpenAI,
# Gemini, Vertex AI, Memory, Ảnh, TTS, Canvas, Logging, v.v.)
#
# Nếu bạn muốn bản TỐI GIẢN hãy tạo thêm: requirements-min.txt
# (ví dụ chỉ giữ: streamlit, openai, Pillow, python-dotenv, requests)
#
# Ghi chú:
#  - Pin phiên bản giúp build reproducible.
#  - Có những gói "thừa" nếu bạn không dùng tính năng (có thể xoá).
#  - Bạn có thể cài bằng: pip install -r requirements.txt
############################################################

########################
# Core App & Data
########################
streamlit==1.34.0
pandas==2.2.2           # Dùng cho xử lý bảng / thống kê nếu cần

########################
# AI Providers
########################
openai>=1.30.0          # Cho GPT-4o, GPT-4o-mini, v.v.
google-generativeai==0.5.4   # Cho Gemini (qua Google Generative AI)
google-cloud-aiplatform==1.66.0   # Vertex AI (nếu không dùng có thể bỏ)

########################
# Text To Speech (chọn 1 hoặc dùng cả 2)
########################
gtts==2.5.1                   # TTS đơn giản, miễn phí (Google Translate)
google-cloud-texttospeech==2.16.3   # TTS chất lượng cao (cần service account)

########################
# Canvas / Vẽ / Ảnh
########################
streamlit-drawable-canvas==0.9.3
Pillow==10.3.0                # Xử lý/resize ảnh

########################
# Bảo mật / Mật khẩu
########################
bcrypt==4.1.2                 # Hash mật khẩu cơ bản
passlib[bcrypt]==1.7.4        # (Tùy chọn) API thuận tiện hơn cho quản lý user

########################
# Tiện ích & Hỗ trợ gọi API
########################
python-dotenv==1.0.1          # Đọc biến môi trường từ .env
requests==2.32.3              # Gọi REST (có thể dùng cho Ollama / services khác)
tenacity==8.2.3               # Retry khi API tạm lỗi
tiktoken==0.7.0               # Ước tính/đếm token (OpenAI)
orjson==3.10.6                # Parse/ghi JSON nhanh (dùng cho memory)
rich==13.7.1                  # Logging màu sắc đẹp

########################
# (Tùy chọn nâng cao) NLP / ML / Vector
########################
# faiss-cpu==1.8.0.post1      # Vector search nếu sau này thêm bộ nhớ ngữ nghĩa
# chromadb==0.5.5             # DB vector thay thế
# sentence-transformers==3.0.1  # Sinh embedding (nếu không dùng provider AI)

########################
# (Tùy chọn) Whisper / STT
########################
# faster-whisper==1.0.3       # Chuyển giọng nói thành văn bản local
# openai-whisper==20231117    # Whisper bản gốc (nặng hơn)

########################
# (Tùy chọn) Web backend bổ sung
########################
# fastapi==0.111.0
# uvicorn==0.30.1

########################
# (Tùy chọn) Performance / Cache
########################
# diskcache==5.6.3
# cachetools==5.3.3

########################
# (Tùy chọn) Lint & Dev
########################
# black==24.4.2
# isort==5.13.2
# mypy==1.10.0

############################################################
# GHI CHÚ SAU CÀI ĐẶT
# 1. Tạo file .env chứa các khóa:
#    OPENAI_API_KEY=sk-xxxx
#    GOOGLE_API_KEY=AIza-xxxx          (cho google-generativeai)
#    GOOGLE_APPLICATION_CREDENTIALS=path/to/service_account.json  (cho Vertex / Cloud TTS)
#
# 2. Chạy ứng dụng:
#    streamlit run app.py
#
# 3. Nếu không dùng Vertex AI hoặc Cloud TTS:
#    Gỡ bỏ google-cloud-aiplatform, google-cloud-texttospeech để giảm dung lượng.
#
# 4. Nếu deploy trên Streamlit Cloud:
#    - Thêm biến môi trường trong Settings -> Secrets (không commit .env).
#
# 5. Tối ưu CI/CD:
#    - Có thể tách file: requirements-core.txt & requirements-optional.txt
#
############################################################
